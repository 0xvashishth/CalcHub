var population = document.querySelector("#population");
var populationText = document.querySelector("#population-text");
var infectionPercent = document.querySelector("#infection-percent");
var infectionRate = document.querySelector("#infection-rate");
var infected = document.querySelector("#infected");
var mortalityPercent = document.querySelector("#mortality-percent");
var mortalityRate = document.querySelector("#mortality-rate");
var hospitalized = document.querySelector("#hospitalized");
var ventilated = document.querySelector("#ventilated");
var dead = document.querySelector("#dead");
function formatNumber(num) {
	return num.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g, "$1,");
}
function update() {
	var populationValue = populations[population.value];

	var infectedValue = Math.round(
		populationValue * Number(infectionRate.value * 0.01)
	);
	var deadValue = Math.round(infectedValue * Number(mortalityRate.value * 0.01));
	populationText.textContent = formatNumber(populationValue);
	infectionPercent.textContent = infectionRate.value + "%";
	mortalityPercent.textContent = mortalityRate.value + "%";
	infected.textContent = formatNumber(infectedValue);
	hospitalized.textContent = formatNumber(Math.round(infectedValue * 0.15));
	// beds.textContent = formatNumber(Math.round(populationValue * 0.0028));
	ventilated.textContent = formatNumber(Math.round(infectedValue * 0.05));
	dead.textContent = formatNumber(deadValue);
}

var populations = {
	World: 7771000000,
	"World - 1918": 1900000000,
	disabled1: true,

	"United States": 331002651,
	disabled2: true,

	California: 39937489,
	Texas: 29472295,
	Florida: 21992985,
	"New York": 19440469,
	Pennsylvania: 12820878,
	Illinois: 12659682,

	disabled8: true,
	Ohio: 11747694,
	Columbus: 850106,
	Cleveland: 388072,
	Cincinnati: 296943,
	Toledo: 279789,
	Akron: 197542,
	Dayton: 140599,
	"Bowling Green": 67067,
	Dublin: 47619,
	Findlay: 41321,
	Hilliard: 35939,
	Defiance: 16687,
	Napoleon: 8299,
	Ottawa: 4362,
	Bluffton: 4144,
	Holgate: 1070,
	Deshler: 1730,
	Hamler: 559,
	disabled6: true,

	Georgia: 10736059,
	"North Carolina": 10611862,
	Michigan: 10045029,
	"New Jersey": 8936574,
	Virginia: 8626207,
	Washington: 7797095,
	Arizona: 7378494,
	Massachusetts: 6976597,
	Tennessee: 6897576,
	Indiana: 6745354,
	Missouri: 6169270,
	Maryland: 6083116,
	Wisconsin: 5851754,
	Colorado: 5845526,
	Minnesota: 5700671,
	"South Carolina": 5210095,
	Alabama: 4908621,
	Louisiana: 4645184,
	Kentucky: 4499692,
	Oregon: 4301089,
	Oklahoma: 3954821,
	Connecticut: 3563077,
	Utah: 3282115,
	Iowa: 3179849,
	Nevada: 3139658,
	Arkansas: 3038999,
	"Puerto Rico": 3032165,
	Mississippi: 2989260,
	Kansas: 2910357,
	"New Mexico": 2096640,
	Nebraska: 1952570,
	Idaho: 1826156,
	"West Virginia": 1778070,
	Hawaii: 1412687,
	"New Hampshire": 1371246,
	Maine: 1345790,
	Montana: 1086759,
	"Rhode Island": 1056161,
	Delaware: 982895,
	"South Dakota": 903027,
	"North Dakota": 761723,
	Alaska: 734002,
	"District of Columbia": 720687,
	Vermont: 628061,
	Wyoming: 567025,
	disabled3: true,

	"New York City": 8175133,
	"Los Angeles": 3971883,
	Chicago: 2720546,
	Brooklyn: 2300664,
	Houston: 2296224,
	Queens: 2272771,
	Philadelphia: 1567442,
	Phoenix: 1563025,
	Manhattan: 1487536,
	"San Antonio": 1469845,
	"San Diego": 1394928,
	"The Bronx": 1385108,
	Dallas: 1300092,
	"San Jose": 1026908,
	Austin: 931830,
	Jacksonville: 868031,
	"San Francisco": 864816,
	"Fort Worth": 833319,
	Indianapolis: 829718,
	Charlotte: 827097,
	Seattle: 684451,
	Denver: 682545,
	"El Paso": 681124,
	Detroit: 677116,
	Boston: 667137,
	Memphis: 655770,
	"New South Memphis": 641608,
	Portland: 632309,
	"Oklahoma City": 631346,
	"Las Vegas": 623747,
	Baltimore: 621849,
	"Washington D.C.": 601723,
	Milwaukee: 600155,
	"South Boston": 571281,
	Albuquerque: 559121,
	Tucson: 531641,
	Nashville: 530852,
	Fresno: 520052,
	Sacramento: 490712,
	"Kansas City": 475378,
	"Long Beach": 474140,
	Mesa: 471825,
	"Staten Island": 468730,
	Atlanta: 463878,
	"Colorado Springs": 456568,
	"Virginia Beach": 452745,
	Raleigh: 451066,
	Omaha: 443885,
	Miami: 441003,
	Oakland: 419267,
	Minneapolis: 410939,
	Tulsa: 403505,
	Wichita: 389965,
	"New Orleans": 389617,
	Arlington: 388125,
	Bakersfield: 373640,
	Honolulu: 371657,
	Tampa: 369075,
	Aurora: 359407,
	Anaheim: 350742,
	"West Raleigh": 338759,
	"Santa Ana": 335400,
	"Corpus Christi": 324074,
	Riverside: 322424,
	"St. Louis": 315685,
	"Lexington-Fayette": 314488,
	Stockton: 305658,
	Pittsburgh: 304391,
	disabled4: true,

	China: 1439323776,
	India: 1380004385,
	Indonesia: 273523615,
	Pakistan: 220892340,
	Brazil: 212559417,
	Nigeria: 206139589,
	Bangladesh: 164689383,
	Russia: 145934462,
	Mexico: 128932753,
	Japan: 126476461,
	Ethiopia: 114963588,
	Philippines: 109581078,
	Egypt: 102334404,
	Vietnam: 97338579,
	"DR Congo": 89561403,
	Turkey: 84339067,
	Iran: 83992949,
	Germany: 83783942,
	Thailand: 69799978,
	"United Kingdom": 67886011,
	France: 65273511,
	Italy: 60461826,
	Tanzania: 59734218,
	"South Africa": 59308690,
	Myanmar: 54409800,
	Kenya: 53771296,
	"South Korea": 51269185,
	Colombia: 50882891,
	Spain: 46754778,
	Uganda: 45741007,
	Argentina: 45195774,
	Algeria: 43851044,
	Sudan: 43849260,
	Ukraine: 43733762,
	Iraq: 40222493,
	Afghanistan: 38928346,
	Poland: 37846611,
	Canada: 37742154,
	Morocco: 36910560,
	"Saudi Arabia": 34813871,
	Uzbekistan: 33469203,
	Peru: 32971854,
	Angola: 32866272,
	Malaysia: 32365999,
	Mozambique: 31255435,
	Ghana: 31072940,
	Yemen: 29825964,
	Nepal: 29136808,
	Venezuela: 28435940,
	Madagascar: 27691018,
	Cameroon: 26545863,
	"Côte d'Ivoire": 26378274,
	"North Korea": 25778816,
	Australia: 25499884,
	Niger: 24206644,
	Taiwan: 23816775,
	"Sri Lanka": 21413249,
	"Burkina Faso": 20903273,
	Mali: 20250833,
	Romania: 19237691,
	Malawi: 19129952,
	Chile: 19116201,
	Kazakhstan: 18776707,
	Zambia: 18383955,
	Guatemala: 17915568,
	Ecuador: 17643054,
	Syria: 17500658,
	Netherlands: 17134872,
	Senegal: 16743927,
	Cambodia: 16718965,
	Chad: 16425864,
	Somalia: 15893222,
	Zimbabwe: 14862924,
	Guinea: 13132795,
	Rwanda: 12952218,
	Benin: 12123200,
	Burundi: 11890784,
	Tunisia: 11818619,
	Bolivia: 11673021,
	Belgium: 11589623,
	Haiti: 11402528,
	Cuba: 11326616,
	"South Sudan": 11193725,
	"Dominican Republic": 10847910,
	"Czech Republic (Czechia)": 10708981,
	Greece: 10423054,
	Jordan: 10203134,
	Portugal: 10196709,
	Azerbaijan: 10139177,
	Sweden: 10099265,
	Honduras: 9904607,
	"United Arab Emirates": 9890402,
	Hungary: 9660351,
	Tajikistan: 9537645,
	Belarus: 9449323,
	Austria: 9006398,
	"Papua New Guinea": 8947024,
	Serbia: 8737371,
	Israel: 8655535,
	Switzerland: 8654622,
	Togo: 8278724,
	"Sierra Leone": 7976983,
	"Hong Kong": 7496981,
	Laos: 7275560,
	Paraguay: 7132538,
	Bulgaria: 6948445,
	Libya: 6871292,
	Lebanon: 6825445,
	Nicaragua: 6624554,
	Kyrgyzstan: 6524195,
	"El Salvador": 6486205,
	Turkmenistan: 6031200,
	Singapore: 5850342,
	Denmark: 5792202,
	Finland: 5540720,
	Congo: 5518087,
	Slovakia: 5459642,
	Norway: 5421241,
	Oman: 5106626,
	"State of Palestine": 5101414,
	"Costa Rica": 5094118,
	Liberia: 5057681,
	Ireland: 4937786,
	"Central African Republic": 4829767,
	"New Zealand": 4822233,
	Mauritania: 4649658,
	Panama: 4314767,
	Kuwait: 4270571,
	Croatia: 4105267,
	Moldova: 4033963,
	Georgia: 3989167,
	Eritrea: 3546421,
	Uruguay: 3473730,
	"Bosnia and Herzegovina": 3280819,
	Mongolia: 3278290,
	Armenia: 2963243,
	Jamaica: 2961167,
	Qatar: 2881053,
	Albania: 2877797,
	"Puerto Rico": 2860853,
	Lithuania: 2722289,
	Namibia: 2540905,
	Gambia: 2416668,
	Botswana: 2351627,
	Gabon: 2225734,
	Lesotho: 2142249,
	"North Macedonia": 2083374,
	Slovenia: 2078938,
	"Guinea-Bissau": 1968001,
	Latvia: 1886198,
	Bahrain: 1701575,
	"Equatorial Guinea": 1402985,
	"Trinidad and Tobago": 1399488,
	Estonia: 1326535,
	"Timor-Leste": 1318445,
	Mauritius: 1271768,
	Cyprus: 1207359,
	Eswatini: 1160164,
	Djibouti: 988000,
	Fiji: 896445,
	Réunion: 895312,
	Comoros: 869601,
	Guyana: 786552,
	Bhutan: 771608,
	"Solomon Islands": 686884,
	Macao: 649335,
	Montenegro: 628066,
	Luxembourg: 625978,
	"Western Sahara": 597339,
	Suriname: 586632,
	"Cabo Verde": 555987,
	Maldives: 540544,
	Malta: 441543,
	Brunei: 437479,
	Guadeloupe: 400124,
	Belize: 397628,
	Bahamas: 393244,
	Martinique: 375265,
	Iceland: 341243,
	Vanuatu: 307145,
	"French Guiana": 298682,
	Barbados: 287375,
	"New Caledonia": 285498,
	"French Polynesia": 280908,
	Mayotte: 272815,
	"Sao Tome & Principe": 219159,
	Samoa: 198414,
	"Saint Lucia": 183627,
	"Channel Islands": 173863,
	Guam: 168775,
	Curaçao: 164093,
	Kiribati: 119449,
	Micronesia: 115023,
	Grenada: 112523,
	"St. Vincent & Grenadines": 110940,
	Aruba: 106766,
	Tonga: 105695,
	"U.S. Virgin Islands": 104425,
	Seychelles: 98347,
	"Antigua and Barbuda": 97929,
	"Isle of Man": 85033,
	Andorra: 77265,
	Dominica: 71986,
	"Cayman Islands": 65722,
	Bermuda: 62278,
	"Marshall Islands": 59190,
	"Northern Mariana Islands": 57559,
	Greenland: 56770,
	"American Samoa": 55191,
	"Saint Kitts & Nevis": 53199,
	"Faeroe Islands": 48863,
	"Sint Maarten": 42876,
	Monaco: 39242,
	"Turks and Caicos": 38717,
	"Saint Martin": 38666,
	Liechtenstein: 38128,
	"San Marino": 33931,
	Gibraltar: 33691,
	"British Virgin Islands": 30231,
	"Caribbean Netherlands": 26223,
	Palau: 18094,
	"Cook Islands": 17564,
	Anguilla: 15003,
	Tuvalu: 11792,
	"Wallis & Futuna": 11239,
	Nauru: 10824,
	"Saint Barthelemy": 9877,
	"Saint Helena": 6077,
	"Saint Pierre & Miquelon": 5794,
	Montserrat: 4992,
	"Falkland Islands": 3480,
	Niue: 1626,
	Tokelau: 1357,
	"Holy See": 801
};

Object.entries(populations).forEach(([location, pop]) => {
	var option = document.createElement("option");
	option.value = location;
	option.innerHTML = location;
	if (location.substring(0, 8) === "disabled") {
		option.value = location;
		option.setAttribute("disabled", true);
		option.innerHTML = "─────────────";
	}
	if (location === "United States") {
		option.setAttribute("selected", true);
	}
	population.appendChild(option);
});

update();